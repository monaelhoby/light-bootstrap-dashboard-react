{"ast":null,"code":"var _jsxFileName = \"E:\\\\Folder\\\\React\\\\projects\\\\my_freelance_work\\\\M.Ramdan Work\\\\light-bootstrap-dashboard-react\\\\src\\\\views\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { db } from \"../firebase\";\nimport { handleDeleteUser, handleDeleteUsers, handleUpdateUser } from './UsersAction'; // react-bootstrap components\n\nimport { Badge, Button, Card, Navbar, Nav, Table, Container, Row, Col, Form, OverlayTrigger, Tooltip, Modal } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Dashboard() {\n  _s();\n\n  const allRef = useRef();\n  const [users, setUsers] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [editableUser, setEditableUser] = useState({\n    email: \"\",\n    products: []\n  });\n  const [modalShow, setModalShow] = React.useState(false);\n  const [CommentVal, setCommentVal] = React.useState('');\n  const [showA, setShowA] = useState(true);\n  useEffect(() => {\n    db.collection(\"users\").get().then(snapshot => {\n      let users = [];\n      snapshot.docs.forEach(user => {\n        user.checked = false;\n        user.purchased = false;\n        users.push(user);\n      });\n      setUsers([...users]);\n      let newEditableUser = {};\n      newEditableUser.uid = users[0].id;\n      newEditableUser.email = users[0].data().email;\n      newEditableUser.products = users[0].data().products;\n      setEditableUser({ ...newEditableUser\n      });\n    });\n  }, []);\n\n  const handleSelectUser = (e, i, id) => {\n    let newSelectedUsers = selectedUsers;\n\n    if (e.target.checked) {\n      newSelectedUsers.push(id);\n    } else {\n      newSelectedUsers = newSelectedUsers.filter(uid => {\n        return uid !== id;\n      });\n    }\n\n    setSelectedUsers([...newSelectedUsers]);\n    let newUsers = users;\n    newUsers[i].checked = e.target.checked;\n    setUsers([...newUsers]);\n  };\n\n  const toggleUsersSelection = e => {\n    let newSelectedUsers = [];\n    let newUsers = users;\n    newUsers.forEach(user => {\n      user.checked = e.target.checked;\n\n      if (e.target.checked) {\n        newSelectedUsers.push(user.id);\n      }\n    });\n    setSelectedUsers([...newSelectedUsers]);\n    setUsers([...newUsers]);\n  };\n\n  const handleEditUser = (uid, i) => {\n    let newEditableUser = {};\n    newEditableUser.uid = users[i].id;\n    newEditableUser.email = users[i].data().email;\n    newEditableUser.products = users[i].data().products;\n    newEditableUser.products.comments = CommentVal;\n    setEditableUser({ ...newEditableUser\n    });\n    setModalShow(true);\n  };\n\n  const hanldeChangeEmailForEditableUser = e => {\n    let newEditableUser = editableUser;\n    newEditableUser.email = e.target.value;\n    setEditableUser({ ...newEditableUser\n    });\n  };\n\n  const toggleCheckApp = (e, pIndex, appIndex) => {\n    console.log(e.target.checked);\n    let newEditableUser = editableUser;\n    editableUser.products[pIndex].apps[appIndex].active = e.target.checked;\n    setEditableUser({ ...editableUser\n    });\n  }; // toggole in purchased button\n\n\n  const toggleCheckPurchasedApp = (e, pIndex, appIndex) => {\n    console.log(e.target.checked);\n    let newEditableUser = editableUser;\n    editableUser.products[pIndex].apps[appIndex].purchased = e.target.checked;\n    setEditableUser({ ...editableUser\n    });\n  }; // if(!editableUser.hasOwnProperty(\"products\")){\n  //   return;\n  // }\n  // if(!editableUser.products.length){\n  //   return\n  // }\n\n\n  const handleChange = e => setCommentVal(e.target.value); // check app box\n\n\n  const toggleShowA = () => setShowA(!showA);\n\n  let renderProductsForUser = null;\n  renderProductsForUser = editableUser.products.map((p, j) => {\n    return /*#__PURE__*/_jsxDEV(Row, {\n      className: \"pCategory\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        sm: \"12\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            width: \"100%\"\n          },\n          children: p.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }, this), p.apps.map((app, i) => {\n        return /*#__PURE__*/_jsxDEV(Toast, {\n          show: showA,\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: \"4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"oneProduct\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\" \", app.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Active : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"switch\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: app.active,\n                    onChange: e => {\n                      toggleCheckApp(e, j, i);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"slider round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"purchased : \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"switch\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    checked: app.purchased,\n                    onChange: e => {\n                      toggleCheckPurchasedApp(e, j, i);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 152,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"slider round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 20\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [app.purchased ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"+{app.name}+\",\n                  children: \"App Link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 39\n                }, this) : '', !app.purchased ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"+{app.name}+\",\n                  children: \"App Link\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 40\n                }, this) : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"appDtail\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"# of times app launched since last login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 77\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"# of times app launched since purchased\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 76\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Date of last launch\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 167,\n                    columnNumber: 56\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"# of times app launched\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 24\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 60\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 19\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 24\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Col, {\n        md: \"4\",\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"exampleForm.ControlTextarea1\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            as: \"textarea\",\n            rows: 3,\n            onChange: e => setCommentVal(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 27\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }, this)]\n    }, j, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 16\n    }, this);\n  }); // editing user modal\n\n  const MyVerticallyCenteredModal = props => {\n    return /*#__PURE__*/_jsxDEV(Modal, { ...props,\n      size: \"lg\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"card-title\",\n            children: \"Edit User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userDetails\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: \"User Details\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              defaultValue: editableUser.email,\n              placeholder: \"Add Product Apps Separated by Comma\",\n              type: \"text\",\n              onChange: hanldeChangeEmailForEditableUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Manage Users Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 19\n          }, this), renderProductsForUser]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: props.onHide,\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => {\n            handleUpdateUser(editableUser, setUsers);\n          },\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this);\n  }; // Render all users\n\n\n  let renderUsers = null;\n  renderUsers = users.map((user, i) => {\n    if (!users.length && users.length > 25) {\n      return;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n          className: \"mb-1 pl-0\",\n          children: /*#__PURE__*/_jsxDEV(Form.Check.Label, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Check.Input, {\n              onChange: e => {\n                handleSelectUser(e, i, user.id);\n              },\n              checked: user.checked,\n              defaultValue: \"\",\n              type: \"checkbox\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"form-check-sign\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.data().email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.data().creationDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.data().lastLoginDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-422471719\",\n            children: \"Edit Task..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              handleEditUser(user.id, i);\n            },\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"info\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-829164576\",\n            children: \"Remove..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleDeleteUser(user.id, users, i, setUsers),\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"danger\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 9\n      }, this)]\n    }, user.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 16\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-right\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"mr-2\",\n          variant: \"secondary\",\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mr-2\",\n          variant: \"secondary\",\n          children: \"Codes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mr-2\",\n          variant: \"secondary\",\n          children: \"Used Codes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card-tasks\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                as: \"h4\",\n                children: \"Users\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: \"List of userse where you can manage them\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                className: \"table-hover table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n                        className: \"mb-1 pl-0\",\n                        style: {\n                          display: \"inline-block\"\n                        },\n                        children: /*#__PURE__*/_jsxDEV(Form.Check.Label, {\n                          children: [/*#__PURE__*/_jsxDEV(Form.Check.Input, {\n                            onChange: toggleUsersSelection,\n                            ref: allRef,\n                            defaultValue: \"x\",\n                            type: \"checkbox\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 301,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"form-check-sign\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 300,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 26\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: \"all\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 310,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Creation Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Last Login Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 314,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: () => {\n                          handleDeleteUsers(selectedUsers);\n                        },\n                        children: \"delete multiple user\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: renderUsers\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MyVerticallyCenteredModal, {\n        show: modalShow,\n        onHide: () => setModalShow(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(Dashboard, \"TvYNLqBwwpa6Ab3Ts8mHO9SoE+8=\");\n\n_c = Dashboard;\nexport default Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["E:/Folder/React/projects/my_freelance_work/M.Ramdan Work/light-bootstrap-dashboard-react/src/views/Dashboard.js"],"names":["React","useRef","useEffect","useState","ChartistGraph","db","handleDeleteUser","handleDeleteUsers","handleUpdateUser","Badge","Button","Card","Navbar","Nav","Table","Container","Row","Col","Form","OverlayTrigger","Tooltip","Modal","Dashboard","allRef","users","setUsers","selectedUsers","setSelectedUsers","editableUser","setEditableUser","email","products","modalShow","setModalShow","CommentVal","setCommentVal","showA","setShowA","collection","get","then","snapshot","docs","forEach","user","checked","purchased","push","newEditableUser","uid","id","data","handleSelectUser","e","i","newSelectedUsers","target","filter","newUsers","toggleUsersSelection","handleEditUser","comments","hanldeChangeEmailForEditableUser","value","toggleCheckApp","pIndex","appIndex","console","log","apps","active","toggleCheckPurchasedApp","handleChange","toggleShowA","renderProductsForUser","map","p","j","width","name","app","MyVerticallyCenteredModal","props","onHide","renderUsers","length","creationDate","lastLoginDate","display"],"mappings":"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","sourcesContent":["import React, {useRef,useEffect,useState } from \"react\";\nimport ChartistGraph from \"react-chartist\";\nimport { db } from \"../firebase\";\nimport {handleDeleteUser,handleDeleteUsers, handleUpdateUser} from './UsersAction'\n\n// react-bootstrap components\nimport {\n  Badge,\n  Button,\n  Card,\n  Navbar,\n  Nav,\n  Table,\n  Container,\n  Row,\n  Col,\n  Form,\n  OverlayTrigger,\n  Tooltip,\n  Modal\n} from \"react-bootstrap\";\n\n\nfunction Dashboard() {\n  const allRef = useRef();\n  const [users,setUsers] = useState([]) \n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [editableUser,setEditableUser] = useState({\n    email:\"\",\n    products:[]\n  });\n  const [modalShow, setModalShow] = React.useState(false);\n  const [CommentVal, setCommentVal] = React.useState('');\n  const [showA, setShowA] = useState(true);\n \n  useEffect(() => {\n    db.collection(\"users\").get()\n    .then(snapshot=>{\n      let users = [];\n      snapshot.docs.forEach(user=>{\n        user.checked = false;\n        user.purchased = false;\n        users.push(user);\n      })\n      setUsers([...users]);\n\n      let newEditableUser = {};\n      newEditableUser.uid      = users[0].id;\n      newEditableUser.email    = users[0].data().email;\n      newEditableUser.products = users[0].data().products;\n      setEditableUser({...newEditableUser});\n    })\n  },[]);\n\n\n  const handleSelectUser = (e,i,id)=>{\n    let newSelectedUsers = selectedUsers;\n    if(e.target.checked){\n      newSelectedUsers.push(id);\n    }else{\n      newSelectedUsers = newSelectedUsers.filter((uid)=>{\n        return uid !== id\n      })\n    }\n    setSelectedUsers([...newSelectedUsers])\n    let newUsers = users;\n    newUsers[i].checked = e.target.checked\n    setUsers([...newUsers])\n  }\n\n  const toggleUsersSelection = (e)=>{\n    let newSelectedUsers = [];\n    let newUsers = users;\n    newUsers.forEach(user=>{\n      user.checked = e.target.checked;\n      if(e.target.checked){\n        newSelectedUsers.push(user.id);\n      }\n    })\n    setSelectedUsers([...newSelectedUsers])\n    setUsers([...newUsers])\n  }\n\n  const handleEditUser = (uid,i)=>{\n    let newEditableUser = {};\n    newEditableUser.uid      = users[i].id;\n    newEditableUser.email    = users[i].data().email;\n    newEditableUser.products = users[i].data().products;\n    newEditableUser.products.comments = CommentVal;\n    setEditableUser({...newEditableUser});\n    setModalShow(true)\n\n  }\n\n  const hanldeChangeEmailForEditableUser = (e)=>{\n    let newEditableUser = editableUser;\n    newEditableUser.email = e.target.value;\n\n    setEditableUser({...newEditableUser})\n  }\nconst toggleCheckApp = (e,pIndex,appIndex)=>{\n  console.log(e.target.checked)\n  let newEditableUser = editableUser;\n  editableUser.products[pIndex].apps[appIndex].active = e.target.checked;\n  setEditableUser({...editableUser})\n}\n\n// toggole in purchased button\nconst toggleCheckPurchasedApp = (e,pIndex,appIndex)=>{\n  console.log(e.target.checked)\n  let newEditableUser = editableUser;\n  editableUser.products[pIndex].apps[appIndex].purchased = e.target.checked;\n  setEditableUser({...editableUser})\n}\n\n// if(!editableUser.hasOwnProperty(\"products\")){\n        //   return;\n        // }\n        // if(!editableUser.products.length){\n        //   return\n        // }\n\n  const handleChange = e => (\n    setCommentVal(e.target.value)\n  )\n\n  // check app box\n  const toggleShowA = () => setShowA(!showA);\n        \n  let renderProductsForUser = null;\n      renderProductsForUser = editableUser.products.map((p,j)=>{\n        \n        return <Row key={j} className=\"pCategory\">\n          <Col sm=\"12\">\n          <span style={{width:\"100%\"}}>{p.name}</span>\n          </Col>\n          <br/>\n          {p.apps.map((app,i)=>{\n                return <Toast show={showA}><Col md=\"4\" key={i}>\n                  <div className=\"oneProduct\" >\n                   <h6> {app.name}</h6>\n                   <div>\n                    <span>Active : </span>\n                    <label className=\"switch\">\n                      <input type=\"checkbox\" checked={app.active} onChange={(e)=>{toggleCheckApp(e,j,i)}} />\n                      <span className=\"slider round\"></span>\n                    </label>\n                   </div>\n                   <div>\n                    <span>purchased : </span>\n                    <label className=\"switch\">\n                      <input type=\"checkbox\" checked={app.purchased} onChange={(e)=>{toggleCheckPurchasedApp(e,j,i)}} />\n                      <span className=\"slider round\"></span>\n                    </label>\n                  </div>\n                  <div>\n                    {\n                      app.purchased ? <a href=\"+{app.name}+\">App Link</a> : ''\n                    }\n                    {\n                      !app.purchased ? <a href=\"+{app.name}+\">App Link</a> : ''\n                    }\n                  </div>\n                  <div className=\"appDtail\">\n                    <p><span># of times app launched since last login</span><span></span></p>\n                    <p><span># of times app launched since purchased</span><span></span></p>\n                    <p><span>Date of last launch</span><span></span></p>\n                    <p><span># of times app launched</span><span></span></p>\n                  </div>\n                </div>\n              </Col></Toast>\n              })}\n              <Col md=\"4\"><Form.Group controlId=\"exampleForm.ControlTextarea1\">\n                <Form.Label>Comments</Form.Label>\n                <Form.Control as=\"textarea\" rows={3} onChange={(e) => setCommentVal(e.target.value)}/>\n              </Form.Group></Col>\n          </Row>\n        \n      })\n\n  // editing user modal\n  const MyVerticallyCenteredModal = (props) => {\n    return (\n      <Modal\n        {...props}\n        size=\"lg\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title >\n            <h4 className=\"card-title\">Edit User</h4>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n              <div className=\"userDetails\">\n                <h6>User Details</h6>\n                    <Form.Group>\n                        <label>Email</label>\n                        <Form.Control\n                            defaultValue={editableUser.email}\n                            placeholder=\"Add Product Apps Separated by Comma\"\n                            type=\"text\"\n                            onChange={hanldeChangeEmailForEditableUser}\n                        ></Form.Control>\n                    </Form.Group>\n                  <h4>Manage Users Products</h4>\n                  {renderProductsForUser}\n              </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={props.onHide}>Close</Button>\n          <Button onClick={()=>{handleUpdateUser(editableUser,setUsers)}}>Save</Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n  \n\n// Render all users\n  let renderUsers = null;\n      renderUsers = users.map((user,i)=>{\n        if(!users.length && users.length > 25){\n          return;\n        }\n        return <tr key={user.id}>\n        <td><Form.Check className=\"mb-1 pl-0\">\n              <Form.Check.Label>\n                <Form.Check.Input\n                  onChange={(e)=>{handleSelectUser(e,i,user.id)}}\n                  checked={user.checked}\n                  defaultValue=\"\"\n                  type=\"checkbox\"\n                ></Form.Check.Input>\n                <span className=\"form-check-sign\"></span>\n              </Form.Check.Label>\n            </Form.Check>\n          </td>\n        <td>{user.data().email}</td>\n        <td>{user.data().creationDate}</td>\n        <td>{user.data().lastLoginDate}</td>\n        <td>\n            \n        <OverlayTrigger\n              overlay={\n                <Tooltip id=\"tooltip-422471719\">\n                  Edit Task..\n                </Tooltip>\n              }\n            >\n              <Button\n                onClick={()=>{handleEditUser(user.id,i)}}\n                className=\"btn-simple btn-link p-1\"\n                type=\"button\"\n                variant=\"info\"\n              >\n                <i className=\"fas fa-edit\"></i>\n              </Button>\n            </OverlayTrigger>\n            <OverlayTrigger\n              overlay={\n                <Tooltip id=\"tooltip-829164576\">Remove..</Tooltip>\n              }\n            >\n              <Button\n                onClick={()=>handleDeleteUser(user.id,users,i,setUsers)}\n                className=\"btn-simple btn-link p-1\"\n                type=\"button\"\n                variant=\"danger\"\n              >\n                <i className=\"fas fa-times\"></i>\n              </Button>\n            </OverlayTrigger>\n        </td>\n      </tr>\n      })\n\n  return (\n    <>\n      <Container fluid>\n        <div className=\"text-right\">\n        <Button className=\"mr-2\" variant=\"secondary\">Users</Button> \n        <Button className=\"mr-2\" variant=\"secondary\">Codes</Button> \n        <Button className=\"mr-2\" variant=\"secondary\">Used Codes</Button> \n        <Button variant=\"secondary\">Settings</Button>\n        </div>\n      <Row> \n          <Col>\n            <Card className=\"card-tasks\">\n              <Card.Header>\n                <Card.Title as=\"h4\">Users</Card.Title>\n                <p className=\"card-category\">List of userse where you can manage them</p>\n              </Card.Header>\n              <Card.Body>\n\n              <Table className=\"table-hover table-striped\">\n                  <thead>\n                    <tr>\n                      <th className=\"border-0\">\n                           \n                         <Form.Check  className=\"mb-1 pl-0\" style={{display:\"inline-block\"}}>\n                            <Form.Check.Label>\n                              <Form.Check.Input\n                                onChange={toggleUsersSelection}\n                                ref={allRef}\n                                defaultValue=\"x\"\n                                type=\"checkbox\"\n                              ></Form.Check.Input>\n                              <span className=\"form-check-sign\"></span>\n                            </Form.Check.Label>\n                          </Form.Check>\n                          <span>all</span>\n                        </th>\n                      <th className=\"border-0\">Email</th>\n                      <th className=\"border-0\">Creation Date</th>\n                      <th className=\"border-0\">Last Login Date</th>\n                      <th className=\"border-0\">\n                        <button onClick={()=>{handleDeleteUsers(selectedUsers)}}>delete multiple user</button>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {renderUsers}\n                  </tbody>\n                </Table>\n              </Card.Body>\n            </Card>           \n          </Col>      \n      </Row>\n          <MyVerticallyCenteredModal\n            show={modalShow}\n            onHide={() => setModalShow(false)}\n          />\n      </Container>\n    </>\n  );\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}
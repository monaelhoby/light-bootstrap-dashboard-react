{"ast":null,"code":"import { db } from \"../firebase\";\nexport const handleEditAdmin = (admin, setAdmins, callback) => {\n  let theAdmins = []; // console.log(admin)\n\n  return db.collection(\"admins\").doc(admin.Uid).update({\n    email: admin.email,\n    firstName: admin.firstName,\n    lastName: admin.lastName\n  }).then(() => {\n    db.collection(\"users\").get().then(snapshot => {\n      snapshot.docs.forEach(user => {\n        user.checked = false;\n        theAdmins.push(user);\n      });\n    }).then(() => {\n      callback();\n      setAdmins([...theAdmins]);\n    });\n  }).catch(err => {\n    console.log(\"Err is \", err);\n  });\n};\nexport const handleDeleteAdmin = (uid, setAdmins, callback) => {\n  // console.log(uid)\n  admins.splice(i, 1);\n  setAdmins([...admins]);\n  return db.collection(\"admins\").doc(uid).delete().then(() => {\n    db.collection(\"admins\").get().then(snapshot => {\n      setAdmins([...snapshot.docs]);\n    });\n    callback();\n  }).catch(err => {\n    console.log(\"Err is \", err);\n  });\n};\nexport const handleDeleteAdmins = (ids, admins, setAdmins, callback) => {\n  // console.log(\"ids\", ids)\n  ids.forEach(id => {\n    return db.collection(\"admins\").doc(id).delete();\n  });\n  setAdmins([...admins]);\n  callback();\n};","map":{"version":3,"sources":["E:/Folder/React/projects/my_freelance_work/M.Radwan Work/light-bootstrap-dashboard-react/src/views/adminAction.js"],"names":["db","handleEditAdmin","admin","setAdmins","callback","theAdmins","collection","doc","Uid","update","email","firstName","lastName","then","get","snapshot","docs","forEach","user","checked","push","catch","err","console","log","handleDeleteAdmin","uid","admins","splice","i","delete","handleDeleteAdmins","ids","id"],"mappings":"AAAA,SAASA,EAAT,QAAmB,aAAnB;AAIA,OAAO,MAAMC,eAAe,GAAG,CAACC,KAAD,EAAOC,SAAP,EAAkBC,QAAlB,KAA6B;AACxD,MAAIC,SAAS,GAAG,EAAhB,CADwD,CAExD;;AACA,SAAOL,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BL,KAAK,CAACM,GAAlC,EAAuCC,MAAvC,CAA8C;AACjDC,IAAAA,KAAK,EAACR,KAAK,CAACQ,KADqC;AAEjDC,IAAAA,SAAS,EAACT,KAAK,CAACS,SAFiC;AAGjDC,IAAAA,QAAQ,EAACV,KAAK,CAACU;AAHkC,GAA9C,EAIAC,IAJA,CAIK,MAAI;AACZb,IAAAA,EAAE,CAACM,UAAH,CAAc,OAAd,EAAuBQ,GAAvB,GAA6BD,IAA7B,CAAkCE,QAAQ,IAAE;AACxCA,MAAAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBC,IAAI,IAAE;AACxBA,QAAAA,IAAI,CAACC,OAAL,GAAe,KAAf;AACAd,QAAAA,SAAS,CAACe,IAAV,CAAeF,IAAf;AACH,OAHD;AAIH,KALD,EAKGL,IALH,CAKQ,MAAM;AAEVT,MAAAA,QAAQ;AACRD,MAAAA,SAAS,CAAC,CAAC,GAAGE,SAAJ,CAAD,CAAT;AACH,KATD;AAUH,GAfM,EAgBNgB,KAhBM,CAgBAC,GAAG,IAAE;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;AACH,GAlBM,CAAP;AAmBH,CAtBM;AAwBP,OAAO,MAAMG,iBAAiB,GAAG,CAACC,GAAD,EAAKvB,SAAL,EAAgBC,QAAhB,KAA2B;AACxD;AACAuB,EAAAA,MAAM,CAACC,MAAP,CAAcC,CAAd,EAAiB,CAAjB;AACA1B,EAAAA,SAAS,CAAC,CAAC,GAAGwB,MAAJ,CAAD,CAAT;AAEA,SAAO3B,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4BmB,GAA5B,EAAiCI,MAAjC,GACNjB,IADM,CACD,MAAM;AACRb,IAAAA,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBQ,GAAxB,GACCD,IADD,CACME,QAAQ,IAAE;AACdZ,MAAAA,SAAS,CAAC,CAAC,GAAGY,QAAQ,CAACC,IAAb,CAAD,CAAT;AACD,KAHD;AAIAZ,IAAAA,QAAQ;AACX,GAPM,EAQNiB,KARM,CAQAC,GAAG,IAAE;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBF,GAAvB;AACH,GAVM,CAAP;AAWH,CAhBM;AAmBP,OAAO,MAAMS,kBAAkB,GAAG,CAACC,GAAD,EAAML,MAAN,EAAcxB,SAAd,EAAwBC,QAAxB,KAAoC;AAClE;AACA4B,EAAAA,GAAG,CAACf,OAAJ,CAAagB,EAAE,IAAI;AACf,WAAOjC,EAAE,CAACM,UAAH,CAAc,QAAd,EAAwBC,GAAxB,CAA4B0B,EAA5B,EAAgCH,MAAhC,EAAP;AACF,GAFF;AAGI3B,EAAAA,SAAS,CAAC,CAAC,GAAGwB,MAAJ,CAAD,CAAT;AACAvB,EAAAA,QAAQ;AACf,CAPM","sourcesContent":["import { db } from \"../firebase\";\r\n\r\n\r\n\r\nexport const handleEditAdmin = (admin,setAdmins, callback)=>{\r\n    let theAdmins = []\r\n    // console.log(admin)\r\n    return db.collection(\"admins\").doc(admin.Uid).update({\r\n        email:admin.email,\r\n        firstName:admin.firstName,\r\n        lastName:admin.lastName,\r\n        }).then(()=>{\r\n        db.collection(\"users\").get().then(snapshot=>{\r\n            snapshot.docs.forEach(user=>{\r\n                user.checked = false;\r\n                theAdmins.push(user)\r\n            })\r\n        }).then(() => {\r\n            \r\n            callback()\r\n            setAdmins([...theAdmins]);\r\n        })\r\n    })\r\n    .catch(err=>{\r\n        console.log(\"Err is \", err)\r\n    })\r\n}\r\n\r\nexport const handleDeleteAdmin = (uid,setAdmins, callback)=>{\r\n    // console.log(uid)\r\n    admins.splice(i, 1);\r\n    setAdmins([...admins]);\r\n\r\n    return db.collection(\"admins\").doc(uid).delete()\r\n    .then(() => {\r\n        db.collection(\"admins\").get()\r\n        .then(snapshot=>{\r\n          setAdmins([...snapshot.docs]);\r\n        })\r\n        callback()\r\n    })\r\n    .catch(err=>{\r\n        console.log(\"Err is \", err)\r\n    })\r\n}\r\n\r\n\r\nexport const handleDeleteAdmins = (ids, admins, setAdmins,callback) =>{\r\n    // console.log(\"ids\", ids)\r\n    ids.forEach (id => {\r\n        return db.collection(\"admins\").doc(id).delete();\r\n     })\r\n        setAdmins([...admins]);\r\n        callback()\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
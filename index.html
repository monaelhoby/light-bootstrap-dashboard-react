<html>
    <head></head>
    <body>
        <script>


            var newObj = {};

            var array = [{
                productName:"pro1",
                appName:"app1"
            },
            {
                productName:"pro1",
                appName:"app2"
            },
            {
                productName:"pro2",
                appName:"app3"
            }]


            function recur(n,af,propName){
                if(n<0){
                    return;
                }
                if(newObj[array[n].productName]){
                    if(!newObj[array[n].productName][af]){
                        newObj[array[n].productName][af]=[];
                        newObj[array[n].productName][af].push(array[n][propName])
                    }
                    else{
                        newObj[array[n].productName][af].push(array[n][propName])
                    }
                }else{
                    newObj[array[n].productName] ={};
                    newObj[array[n].productName][af]=[];
                    newObj[array[n].productName][af].push(array[n][propName])
                }
                recur(n-1,af,propName)
            }
            recur(array.length-1,"apps","appName")
            console.log("newObj",newObj)


        </script>
    </body>
</html>
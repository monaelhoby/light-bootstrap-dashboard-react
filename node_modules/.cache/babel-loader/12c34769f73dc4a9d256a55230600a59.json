{"ast":null,"code":"var _jsxFileName = \"E:\\\\Folder\\\\React\\\\projects\\\\my_freelance_work\\\\M.Ramdan Work\\\\light-bootstrap-dashboard-react\\\\src\\\\views\\\\addProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { db } from '../firebase';\nimport { Card, Table, Container, Row, Col, Form, OverlayTrigger, Tooltip, Button } from \"react-bootstrap\";\nimport { handleDeleteProduct, handleEditProduct, handleAddNewProduct } from './ProductsActions'; // react-bootstrap components\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst addProduct = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [showEditPop, setShowEditPop] = useState(false);\n  const [showAddPop, setShowAddPop] = useState(false);\n  const [editableProduct, setEditableProduct] = useState({});\n  const [addingNewProduct, setAddingNewProduct] = useState({});\n  const [showApp, setShowApp] = useState(false);\n  const [createAppComponent, setCreateAppComponent] = useState([]);\n  useEffect(() => {\n    db.collection(\"products\").get().then(snapshot => {\n      // console.log(\"snapshot is \",snapshot.docs[0].data().apps);\n      setProducts([...snapshot.docs]);\n    });\n  }, []);\n\n  const closeEditPop = () => {\n    setShowEditPop(false);\n  };\n\n  const closeAddPop = () => {\n    setShowAddPop(false);\n  };\n\n  const showTheAddPop = () => {\n    setShowAddPop(true);\n    let addingNewProduct = {};\n    addingNewProduct.name = \"\";\n    addingNewProduct.visibility = false;\n    addingNewProduct.unpurchasedUrl = \"\";\n    addingNewProduct.purchasedUrl = \"\";\n    addingNewProduct.apps = [{\n      name: \"\",\n      url: \"\"\n    }];\n    setAddingNewProduct({ ...addingNewProduct\n    });\n  };\n\n  const resetEditableProduct = (pid, i) => {\n    let newEditableProduct = {};\n    newEditableProduct.id = pid;\n    newEditableProduct.name = products[i].data().name;\n    newEditableProduct.apps = products[i].data().apps;\n    newEditableProduct.visibility = products[i].data().visibility;\n    newEditableProduct.unpurchasedUrl = products[i].data().unpurchasedUrl;\n    newEditableProduct.purchasedUrl = products[i].data().purchasedUrl;\n    newEditableProduct.index = i;\n    setEditableProduct({ ...newEditableProduct\n    });\n    setShowEditPop(true);\n  };\n\n  const hanldeEditableNameChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.name = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const hanldeEditableAppsChange = e => {\n    let newEditableProduct = editableProduct;\n    let oldApp = newEditableProduct.apps;\n    console.log(\"oldApp\", oldApp);\n    let newApp = e.target.value.split(\",\");\n    console.log(\"newApp\", newApp);\n    let tempArr = [];\n    newApp.map((app, i) => {\n      if (oldApp[i].name != app) {\n        tempArr.push({\n          name: app,\n          url: oldApp[i].url\n        });\n      }\n    });\n    console.log(\"tempArr\", tempArr);\n    newEditableProduct.apps = tempArr;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const handleEditingAppUrlChange = (e, appIndex) => {\n    let newEditableProduct = editableProduct;\n    let newEditingNewProduct = editableProduct;\n    let apps = newEditableProduct.apps;\n    apps[appIndex].url = e.target.value;\n    newEditingNewProduct.apps = apps;\n    setAddingNewProduct({ ...newEditingNewProduct\n    });\n  };\n\n  const hanldeEditableunpurchasedUrlChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.unpurchasedUrl = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const hanldeEditablepurchasedUrlChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.purchasedUrl = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const toggleShowEditing = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.visibility = e.target.checked;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const handleAddingNameChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.name = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const hanldeOneAppName = (e, appIndex) => {\n    let newCreateAppComponent = createAppComponent;\n    newCreateAppComponent[appIndex].name = e.target.value;\n    setCreateAppComponent([...newCreateAppComponent]);\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.apps = createAppComponent;\n    console.log(newAddingProduct.apps);\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingAppUrlChange = (e, appIndex) => {\n    let newCreateAppComponent = createAppComponent;\n    newCreateAppComponent[appIndex].url = e.target.value;\n    setCreateAppComponent([...newCreateAppComponent]);\n    setAddingNewProduct({ ...createAppComponent\n    });\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.apps = createAppComponent;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingunpurchasedUrlChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.unpurchasedUrl = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingpurchasedUrlChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.purchasedUrl = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  }; // check app box\n\n\n  const toggleShowAdding = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.visibility = e.target.checked;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  let editApps = [];\n  let editableProductApps = null;\n  let productsList = null;\n  productsList = products.map((product, i) => {\n    if (!products.length) {\n      return;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().visibility ? \"yes\" : \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().purchasedUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().unpurchasedUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-422471719\",\n            children: \"Edit Task..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"info\",\n            onClick: () => {\n              resetEditableProduct(product.id, i);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-829164576\",\n            children: \"Remove..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"danger\",\n            onClick: () => {\n              handleDeleteProduct(product, setProducts);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 16\n    }, this);\n  });\n\n  const removeAppRow = i => {\n    let newCreateAppComponent = createAppComponent;\n    newCreateAppComponent.splice(i, 1);\n    setCreateAppComponent([...newCreateAppComponent]);\n  };\n\n  let renderAppsComponents = null;\n  renderAppsComponents = createAppComponent.map((app, i) => {\n    return /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Product Apps\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            defaultValue: createAppComponent[i].name,\n            placeholder: \"Add Product Apps\",\n            type: \"text\",\n            onChange: e => hanldeOneAppName(e, i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"App URL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            defaultValue: createAppComponent[i].url,\n            placeholder: \"Add Product Page url\",\n            type: \"text\",\n            onChange: e => handleAddingAppUrlChange(e, i)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        className: \"removeApp\",\n        onClick: () => {\n          removeAppRow(i);\n        },\n        children: \"-\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this);\n  });\n\n  const addComponent = () => {\n    let newCreateAppComponent = createAppComponent;\n    newCreateAppComponent.push({\n      name: \"\",\n      url: \"\"\n    });\n    setCreateAppComponent([...newCreateAppComponent]);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card-tasks\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                as: \"h4\",\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: \"Add , Delete, Manage Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                className: \"table-hover table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Product Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Product Apps\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Visblility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Un purchased Link\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \" purchased Link\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: showTheAddPop,\n                        children: \"Add Product\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 287,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: productsList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"now-ui-icons loader_refresh spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this), \"Updated 3 minutes ago\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"thePopUp \" + (showEditPop ? \"active\" : \"\"),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"thePopUpBody\",\n        children: [editableProduct.apps ? editableProductApps = editableProduct.apps.forEach(app => editApps.push(app.name)) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-icon-detail closePopUp\",\n          onClick: closeEditPop,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"nc-icon nc-simple-remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Edit Produt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.name,\n                placeholder: \"Add Product Name\",\n                type: \"text\",\n                onChange: hanldeEditableNameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product visibility  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: editableProduct.visibility,\n                onChange: toggleShowEditing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"slider round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 335,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: addComponent,\n          children: \"Add App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 13\n        }, this), editableProduct.apps ? editableProduct.apps.map((app, i) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"Product Apps\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 346,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    defaultValue: app.name,\n                    placeholder: \"Add Product Apps Separated by Comma\",\n                    type: \"text\" // onChange={hanldeEditableAppsChange}\n\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 345,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"App URL\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    defaultValue: app.url,\n                    placeholder: \"Add Product Page url\",\n                    type: \"text\" // onChange={e => handleEditingAppUrlChange(e, i)}\n\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 358,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"danger\",\n                className: \"removeApp\",\n                onClick: () => {\n                  removeAppRow(i);\n                },\n                children: \"-\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this);\n        }) : null, /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Unpurchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.unpurchasedUrl,\n                placeholder: \"Add Product url\",\n                type: \"text\",\n                onChange: hanldeEditableunpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"purchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.purchasedUrl,\n                placeholder: \"Add Product url\",\n                type: \"text\",\n                onChange: hanldeEditablepurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-fill pull-right\",\n              type: \"submit\",\n              variant: \"info\",\n              onClick: () => {\n                handleEditProduct(editableProduct, setProducts, closeEditPop);\n              },\n              children: \"Update Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"thePopUp \" + (showAddPop ? \"active\" : \"\"),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"thePopUpBody\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-icon-detail closePopUp\",\n          onClick: closeAddPop,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"nc-icon nc-simple-remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add Produt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.name,\n                placeholder: \"Add Product Name\",\n                type: \"text\",\n                onChange: handleAddingNameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product visibility  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: addingNewProduct.visibility,\n                onChange: toggleShowAdding\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"slider round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 433,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: addComponent,\n            children: \"Add App\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), renderAppsComponents]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Unpurchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.unpurchasedUrl,\n                placeholder: \"Add Product Page url\",\n                type: \"text\",\n                onChange: handleAddingunpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"purchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.purchasedUrl,\n                placeholder: \"Add Product Page url\",\n                type: \"text\",\n                onChange: handleAddingpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-fill pull-right\",\n              type: \"submit\",\n              variant: \"info\",\n              onClick: () => {\n                handleAddNewProduct(addingNewProduct, setProducts, closeAddPop);\n              },\n              children: \"Update Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(addProduct, \"Q6DiRb063xjnrU0mzONkXhSbyrc=\");\n\nexport default addProduct;","map":{"version":3,"sources":["E:/Folder/React/projects/my_freelance_work/M.Ramdan Work/light-bootstrap-dashboard-react/src/views/addProduct.js"],"names":["React","useEffect","useState","db","Card","Table","Container","Row","Col","Form","OverlayTrigger","Tooltip","Button","handleDeleteProduct","handleEditProduct","handleAddNewProduct","addProduct","products","setProducts","showEditPop","setShowEditPop","showAddPop","setShowAddPop","editableProduct","setEditableProduct","addingNewProduct","setAddingNewProduct","showApp","setShowApp","createAppComponent","setCreateAppComponent","collection","get","then","snapshot","docs","closeEditPop","closeAddPop","showTheAddPop","name","visibility","unpurchasedUrl","purchasedUrl","apps","url","resetEditableProduct","pid","i","newEditableProduct","id","data","index","hanldeEditableNameChange","e","target","value","hanldeEditableAppsChange","oldApp","console","log","newApp","split","tempArr","map","app","push","handleEditingAppUrlChange","appIndex","newEditingNewProduct","hanldeEditableunpurchasedUrlChange","hanldeEditablepurchasedUrlChange","toggleShowEditing","checked","handleAddingNameChange","newAddingProduct","hanldeOneAppName","newCreateAppComponent","handleAddingAppUrlChange","handleAddingunpurchasedUrlChange","handleAddingpurchasedUrlChange","toggleShowAdding","editApps","editableProductApps","productsList","product","length","removeAppRow","splice","renderAppsComponents","addComponent","forEach"],"mappings":"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","sourcesContent":["import React, { useEffect, useState }   from \"react\";\nimport {db} from '../firebase';\nimport {\n    Card,\n    Table,\n    Container,\n    Row,\n    Col,\n    Form,\n    OverlayTrigger,\n    Tooltip,\n    Button \n\n  } from \"react-bootstrap\";\n\n  import {handleDeleteProduct,handleEditProduct, handleAddNewProduct} from './ProductsActions';\n\n\n\n// react-bootstrap components\n\nconst addProduct = ()=>{\n    const [products,setProducts] = useState([]);\n    const [showEditPop,setShowEditPop] = useState(false);\n    const [showAddPop,setShowAddPop] = useState(false);\n    const [editableProduct,setEditableProduct] = useState({});\n    const [addingNewProduct,setAddingNewProduct] = useState({});\n    const [showApp, setShowApp] = useState(false)\n    const [createAppComponent, setCreateAppComponent] = useState([])\n\n    \n    useEffect(() => {\n        db.collection(\"products\").get()\n            .then(snapshot=>{\n            // console.log(\"snapshot is \",snapshot.docs[0].data().apps);\n            setProducts([...snapshot.docs]);\n        })\n    }, [])\n\n    const closeEditPop = ()=>{\n        setShowEditPop(false);\n    }\n\n    const closeAddPop = ()=>{\n        setShowAddPop(false);\n    }\n\n    const showTheAddPop = ()=>{\n        setShowAddPop(true);\n        let addingNewProduct = {};\n        addingNewProduct.name  = \"\";\n        addingNewProduct.visibility  = false;\n        addingNewProduct.unpurchasedUrl  = \"\";\n        addingNewProduct.purchasedUrl  = \"\";\n        addingNewProduct.apps  = [{name:\"\", url: \"\"}];\n        setAddingNewProduct({...addingNewProduct});\n    }\n\n\n    const resetEditableProduct = (pid,i)=>{\n        let newEditableProduct = {};\n        newEditableProduct.id = pid;\n        newEditableProduct.name  = products[i].data().name;\n        newEditableProduct.apps  = products[i].data().apps;\n        newEditableProduct.visibility  = products[i].data().visibility;\n        newEditableProduct.unpurchasedUrl  = products[i].data().unpurchasedUrl;\n        newEditableProduct.purchasedUrl  = products[i].data().purchasedUrl;\n        newEditableProduct.index = i;\n        setEditableProduct({...newEditableProduct});\n        setShowEditPop(true)\n    }\n\n    const hanldeEditableNameChange = (e)=>{\n        let newEditableProduct = editableProduct\n        newEditableProduct.name = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n\n    const hanldeEditableAppsChange = (e) =>{\n      let newEditableProduct = editableProduct;\n      let oldApp = newEditableProduct.apps;\n      console.log(\"oldApp\", oldApp);\n      let newApp = e.target.value.split(\",\");\n      console.log(\"newApp\", newApp);\n      let tempArr =[]\n      newApp.map((app,i) => {\n        if (oldApp[i].name != app){\n          tempArr.push({name: app, url: oldApp[i].url})\n        }\n      })\n      console.log(\"tempArr\", tempArr)\n      newEditableProduct.apps = tempArr\n      setEditableProduct({...newEditableProduct})\n    }\n\n    const handleEditingAppUrlChange = (e,appIndex) => {\n      let newEditableProduct = editableProduct;\n      let newEditingNewProduct = editableProduct;\n      let apps = newEditableProduct.apps;\n      apps[appIndex].url =e.target.value;\n      newEditingNewProduct.apps = apps\n      setAddingNewProduct({...newEditingNewProduct});\n    }\n\n    const hanldeEditableunpurchasedUrlChange = (e) => {\n      let newEditableProduct = editableProduct;\n        newEditableProduct.unpurchasedUrl = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n    const hanldeEditablepurchasedUrlChange = (e) => {\n      let newEditableProduct = editableProduct;\n        newEditableProduct.purchasedUrl = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n\n    const toggleShowEditing = (e) => {\n      let newEditableProduct = editableProduct;\n      newEditableProduct.visibility = e.target.checked;\n      setEditableProduct({...newEditableProduct})\n    }\n\n    const handleAddingNameChange = (e)=>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.name = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const hanldeOneAppName = (e, appIndex) =>{\n      let newCreateAppComponent = createAppComponent;\n      newCreateAppComponent[appIndex].name=e.target.value;\n      setCreateAppComponent([...newCreateAppComponent]);\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.apps = createAppComponent;\n      console.log(newAddingProduct.apps)\n      setAddingNewProduct({...newAddingProduct})\n    }\n    \n    const handleAddingAppUrlChange = (e,appIndex) => {\n      let newCreateAppComponent = createAppComponent;\n      newCreateAppComponent[appIndex].url=e.target.value;\n      setCreateAppComponent([...newCreateAppComponent]);\n      setAddingNewProduct({...createAppComponent});\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.apps = createAppComponent;\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingunpurchasedUrlChange = (e) =>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.unpurchasedUrl = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingpurchasedUrlChange = (e) =>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.purchasedUrl = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n\n    // check app box\n    const toggleShowAdding = (e) => {\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.visibility = e.target.checked;\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    let editApps = [];\n    let editableProductApps = null\n    \n    let productsList = null; \n    productsList = products.map((product,i)=>{\n        if(!products.length){\n          return;\n        }    \n        \n        return <tr key={product.id}>\n        <td>{product.data().name}</td>\n        <td>{product.data().name}</td>\n        <td>{product.data().visibility ? \"yes\" : \"No\"}</td>\n        <td>{product.data().purchasedUrl}</td>\n        <td>{product.data().unpurchasedUrl}</td>\n        <td></td>\n        <td>\n            \n        <OverlayTrigger\n              overlay={\n                <Tooltip id=\"tooltip-422471719\">\n                  Edit Task..\n                </Tooltip>\n              }\n            >\n              <Button\n                className=\"btn-simple btn-link p-1\"\n                type=\"button\"\n                variant=\"info\"\n                onClick = {()=>{resetEditableProduct(product.id,i)}}\n              >\n                <i className=\"fas fa-edit\"></i>\n              </Button>\n            </OverlayTrigger>\n        <OverlayTrigger\n          overlay={\n            <Tooltip id=\"tooltip-829164576\">Remove..</Tooltip>\n          }\n        >\n          <Button\n            className=\"btn-simple btn-link p-1\"\n            type=\"button\"\n            variant=\"danger\"\n            onClick = {()=>{handleDeleteProduct(product,setProducts)}}\n          >\n            <i className=\"fas fa-times\"></i>\n          </Button>\n        </OverlayTrigger>\n        </td>\n      </tr>\n      })\n\n\n    const removeAppRow = (i)=>{\n      let newCreateAppComponent = createAppComponent;\n      newCreateAppComponent.splice(i,1);\n      setCreateAppComponent([...newCreateAppComponent])\n    }\n    let renderAppsComponents = null;\n    renderAppsComponents = createAppComponent.map((app,i)=>{\n      return (\n        <Row  key={i}>\n        <Col>\n        <Form.Group>\n            <label>Product Apps</label>\n            <Form.Control\n              defaultValue={createAppComponent[i].name}\n              placeholder=\"Add Product Apps\"\n              type=\"text\"\n              onChange={e =>hanldeOneAppName(e,i)}\n            ></Form.Control>\n        </Form.Group>\n        </Col>\n          <Col>\n          <Form.Group>\n            <label>App URL</label>\n            <Form.Control\n              defaultValue={createAppComponent[i].url}\n              placeholder=\"Add Product Page url\"\n              type=\"text\"\n              onChange={e => handleAddingAppUrlChange(e, i)}\n            > \n            </Form.Control>\n          </Form.Group>\n        </Col>\n        <Button variant=\"danger\" className=\"removeApp\" onClick={()=>{removeAppRow(i)}}>-</Button>\n      </Row>\n      )\n    })\n    const addComponent = ()=>{\n      let newCreateAppComponent = createAppComponent;\n      newCreateAppComponent.push({\n        name:\"\",\n        url:\"\"\n      });\n      setCreateAppComponent([...newCreateAppComponent])\n    }\n    return (\n        <>\n      <Container fluid>\n        <Row> \n          <Col>\n            <Card className=\"card-tasks\">\n              <Card.Header>\n                <Card.Title as=\"h4\">Products</Card.Title>\n                <p className=\"card-category\">Add , Delete, Manage Products</p>\n              </Card.Header>\n              <Card.Body>\n\n              <Table className=\"table-hover table-striped\">\n                  <thead>\n                    <tr>\n                      <th className=\"border-0\">Product Name</th>\n                      <th className=\"border-0\">Product Apps</th>\n                      <th className=\"border-0\">Visblility</th>\n                      <th className=\"border-0\">Un purchased Link</th>\n                      <th className=\"border-0\"> purchased Link</th>\n                    <td></td>\n\n                      <th className=\"border-0\">\n                        <button onClick={showTheAddPop}>Add Product</button>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {productsList}\n                  </tbody>\n                </Table>\n              </Card.Body>\n              <Card.Footer>\n                <hr></hr>\n                <div className=\"stats\">\n                  <i className=\"now-ui-icons loader_refresh spin\"></i>\n                  Updated 3 minutes ago\n                </div>\n              </Card.Footer>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n      <div className={\"thePopUp \" + (showEditPop ? \"active\" : \"\")} >\n          <div className=\"thePopUpBody\">\n          {\n            editableProduct.apps ? editableProductApps = editableProduct.apps.forEach(app => editApps.push(app.name)) : ''\n          }\n          <div className=\"font-icon-detail closePopUp\" onClick={closeEditPop}>\n            <i className=\"nc-icon nc-simple-remove\"></i>\n          </div>\n          <h1>Edit Produt</h1>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Product Name</label>\n                    <Form.Control\n                        defaultValue={editableProduct.name}\n                        placeholder=\"Add Product Name\"\n                        type=\"text\"\n                        onChange={hanldeEditableNameChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n             <Row>\n              <Col>\n              <label>Product visibility  </label>\n              <label className=\"switch\">\n              <input type=\"checkbox\" checked={editableProduct.visibility} onChange={toggleShowEditing} />\n              <span className=\"slider round\"></span>\n            </label>\n            </Col>\n            </Row>\n            <Button variant=\"success\"  onClick={addComponent}>Add App</Button>\n            {editableProduct.apps ? editableProduct.apps.map((app,i) => {\n              return (\n                <div key={i}>\n                <Row >\n                  <Col>\n                    <Form.Group>\n                        <label>Product Apps</label>\n                        <Form.Control\n                            defaultValue={app.name}\n                            placeholder=\"Add Product Apps Separated by Comma\"\n                            type=\"text\"\n                            // onChange={hanldeEditableAppsChange}\n                        ></Form.Control>\n                    </Form.Group>\n                  </Col>\n                <Col>\n                  <Form.Group>\n                    <label>App URL</label>\n                    <Form.Control\n                      defaultValue={app.url}\n                      placeholder=\"Add Product Page url\"\n                      type=\"text\"\n                      // onChange={e => handleEditingAppUrlChange(e, i)}\n                    > \n                    </Form.Control>\n                  </Form.Group>\n                </Col>\n                <Button variant=\"danger\" className=\"removeApp\" onClick={()=>{removeAppRow(i)}}>-</Button>\n                </Row>\n                </div>\n              )\n            }) : null}\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Unpurchased URL</label>\n                    <Form.Control\n                        defaultValue={editableProduct.unpurchasedUrl}\n                        placeholder=\"Add Product url\"\n                        type=\"text\"\n                        onChange={hanldeEditableunpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>purchased URL</label>\n                    <Form.Control\n                        defaultValue={editableProduct.purchasedUrl}\n                        placeholder=\"Add Product url\"\n                        type=\"text\"\n                        onChange={hanldeEditablepurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Button\n                    className=\"btn-fill pull-right\"\n                    type=\"submit\"\n                    variant=\"info\"\n                    onClick={()=>{handleEditProduct(editableProduct,setProducts,closeEditPop)}}\n                  >\n                    Update Product\n                  </Button>\n                </Col>\n            </Row>\n            </div>\n      </div>\n\n      <div className={\"thePopUp \" + (showAddPop ? \"active\" : \"\")} >\n          <div className=\"thePopUpBody\">\n            <div className=\"font-icon-detail closePopUp\" onClick={closeAddPop}>\n              <i className=\"nc-icon nc-simple-remove\"></i>\n            </div>\n            <h1>Add Produt</h1>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Product Name</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.name }\n                        placeholder=\"Add Product Name\"\n                        type=\"text\"\n                        onChange={handleAddingNameChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n              <Col>\n              <label>Product visibility  </label>\n              <label className=\"switch\">\n              <input type=\"checkbox\" checked={addingNewProduct.visibility} onChange={toggleShowAdding} />\n              <span className=\"slider round\"></span>\n            </label>\n            </Col>\n            </Row>\n            <div>\n            <Button variant=\"success\"  onClick={addComponent}>Add App</Button>\n            {renderAppsComponents}\n            </div>\n            \n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Unpurchased URL</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.unpurchasedUrl}\n                        placeholder=\"Add Product Page url\"\n                        type=\"text\"\n                        onChange={handleAddingunpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>purchased URL</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.purchasedUrl}\n                        placeholder=\"Add Product Page url\"\n                        type=\"text\"\n                        onChange={handleAddingpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Button\n                    className=\"btn-fill pull-right\"\n                    type=\"submit\"\n                    variant=\"info\"\n                    onClick={()=>{handleAddNewProduct(addingNewProduct,setProducts,closeAddPop)}}\n                  >\n                    Update Product\n                  </Button>\n                </Col>\n            </Row>\n            </div>\n      </div>\n      </>\n    )\n}\n\nexport default addProduct;\n"]},"metadata":{},"sourceType":"module"}
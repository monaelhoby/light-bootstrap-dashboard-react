{"ast":null,"code":"var _jsxFileName = \"E:\\\\Folder\\\\React\\\\projects\\\\my_freelance_work\\\\M.Ramdan Work\\\\light-bootstrap-dashboard-react\\\\src\\\\views\\\\addProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { db } from '../firebase';\nimport { Card, Table, Container, Row, Col, Form, OverlayTrigger, Tooltip, Button } from \"react-bootstrap\";\nimport { handleDeleteProduct, handleEditProduct, handleAddNewProduct } from './ProductsActions'; // react-bootstrap components\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst addProduct = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [showEditPop, setShowEditPop] = useState(false);\n  const [showAddPop, setShowAddPop] = useState(false);\n  const [editableProduct, setEditableProduct] = useState({});\n  const [addingNewProduct, setAddingNewProduct] = useState({});\n  const [showApp, setShowApp] = useState(false);\n  useEffect(() => {\n    db.collection(\"products\").get().then(snapshot => {\n      // console.log(\"snapshot is \",snapshot.docs[0].data().apps);\n      setProducts([...snapshot.docs]);\n    });\n  }, []);\n\n  const closeEditPop = () => {\n    setShowEditPop(false);\n  };\n\n  const closeAddPop = () => {\n    setShowAddPop(false);\n  };\n\n  const showTheAddPop = () => {\n    setShowAddPop(true);\n    let addingNewProduct = {};\n    addingNewProduct.name = \"\";\n    addingNewProduct.visibility = false;\n    addingNewProduct.unpurchasedUrl = \"\";\n    addingNewProduct.purchasedUrl = \"\";\n    addingNewProduct.apps = [];\n    setAddingNewProduct({ ...addingNewProduct\n    });\n  };\n\n  const resetEditableProduct = (pid, i) => {\n    let newEditableProduct = {};\n    newEditableProduct.id = pid;\n    newEditableProduct.name = products[i].data().name;\n    newEditableProduct.apps = products[i].data().apps;\n    newEditableProduct.visibility = products[i].data().visibility;\n    newEditableProduct.unpurchasedUrl = products[i].data().unpurchasedUrl;\n    newEditableProduct.purchasedUrl = products[i].data().purchasedUrl;\n    newEditableProduct.index = i;\n    setEditableProduct({ ...newEditableProduct\n    });\n    setShowEditPop(true);\n  };\n\n  const hanldeEditableNameChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.name = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const hanldeEditableAppsChange = e => {\n    let newEditableProduct = editableProduct;\n    let oldApp = newEditableProduct.apps;\n    console.log(\"oldApp\", oldApp);\n    let newApp = e.target.value.split(\",\");\n    console.log(\"newApp\", newApp);\n    let tempArr = [];\n    newApp.map((app, i) => {\n      if (oldApp[i].name != app) {\n        tempArr.push({\n          name: app,\n          url: oldApp[i].url\n        });\n      }\n    });\n    console.log(\"tempArr\", tempArr);\n    newEditableProduct.apps = tempArr;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const handleEditingAppUrlChange = (e, appIndex) => {\n    let newEditableProduct = editableProduct;\n    let newEditingNewProduct = editableProduct;\n    let apps = newEditableProduct.apps;\n    apps[appIndex].url = e.target.value;\n    newEditingNewProduct.apps = apps;\n    setAddingNewProduct({ ...newEditingNewProduct\n    });\n  };\n\n  const hanldeEditableunpurchasedUrlChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.unpurchasedUrl = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const hanldeEditablepurchasedUrlChange = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.purchasedUrl = e.target.value;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const toggleShowEditing = e => {\n    let newEditableProduct = editableProduct;\n    newEditableProduct.visibility = e.target.checked;\n    setEditableProduct({ ...newEditableProduct\n    });\n  };\n\n  const handleAddingNameChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.name = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingAppsChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.apps = {\n      name: e.target.value,\n      url: ''\n    };\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingunpurchasedUrlChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.unpurchasedUrl = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingpurchasedUrlChange = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.purchasedUrl = e.target.value;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  const handleAddingAppUrlChange = (e, appIndex) => {\n    let newAddingProduct = addingNewProduct;\n    let newAddingNewProduct = addingNewProduct;\n    let apps = newAddingProduct.apps;\n    apps[appIndex].url = e.target.value;\n    newAddingNewProduct.apps = apps;\n    setAddingNewProduct({ ...newAddingNewProduct\n    });\n  }; // check app box\n\n\n  const toggleShowAdding = e => {\n    let newAddingProduct = addingNewProduct;\n    newAddingProduct.visibility = e.target.checked;\n    setAddingNewProduct({ ...newAddingProduct\n    });\n  };\n\n  let editApps = [];\n  let editableProductApps = null;\n  let productsList = null;\n  productsList = products.map((product, i) => {\n    if (!products.length) {\n      return;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().visibility ? \"yes\" : \"No\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().purchasedUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: product.data().unpurchasedUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [/*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-422471719\",\n            children: \"Edit Task..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"info\",\n            onClick: () => {\n              resetEditableProduct(product.id, i);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n          overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n            id: \"tooltip-829164576\",\n            children: \"Remove..\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"btn-simple btn-link p-1\",\n            type: \"button\",\n            variant: \"danger\",\n            onClick: () => {\n              handleDeleteProduct(product, setProducts);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this)]\n    }, product.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 16\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"card-tasks\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n              children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                as: \"h4\",\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-category\",\n                children: \"Add , Delete, Manage Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                className: \"table-hover table-striped\",\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Product Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Product Apps\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Visblility\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \"Un purchased Link\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: \" purchased Link\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 233,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      className: \"border-0\",\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        onClick: showTheAddPop,\n                        children: \"Add Product\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 237,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 236,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: productsList\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"now-ui-icons loader_refresh spin\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), \"Updated 3 minutes ago\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"thePopUp \" + (showEditPop ? \"active\" : \"\"),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"thePopUpBody\",\n        children: [editableProduct.apps ? editableProductApps = editableProduct.apps.forEach(app => editApps.push(app.name)) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-icon-detail closePopUp\",\n          onClick: closeEditPop,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"nc-icon nc-simple-remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Edit Produt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.name,\n                placeholder: \"Add Product Name\",\n                type: \"text\",\n                onChange: hanldeEditableNameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Product Apps\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this), console.log(editApps.join()), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editApps.join(),\n                placeholder: \"Add Product Apps Separated by Comma\",\n                type: \"text\",\n                onChange: hanldeEditableAppsChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product visibility  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: editableProduct.visibility,\n                onChange: toggleShowEditing\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"slider round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this), editableProduct.apps ? editableProduct.apps.map((app, i) => {\n          return /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"App URL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  defaultValue: app.url,\n                  placeholder: \"Add Product Page url\",\n                  type: \"text\",\n                  onChange: e => handleEditingAppUrlChange(e, i)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 30\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 17\n          }, this);\n        }) : null, /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Unpurchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.unpurchasedUrl,\n                placeholder: \"Add Product url\",\n                type: \"text\",\n                onChange: hanldeEditableunpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"purchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: editableProduct.purchasedUrl,\n                placeholder: \"Add Product url\",\n                type: \"text\",\n                onChange: hanldeEditablepurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-fill pull-right\",\n              type: \"submit\",\n              variant: \"info\",\n              onClick: () => {\n                handleEditProduct(editableProduct, setProducts, closeEditPop);\n              },\n              children: \"Update Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"thePopUp \" + (showAddPop ? \"active\" : \"\"),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"thePopUpBody\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-icon-detail closePopUp\",\n          onClick: closeAddPop,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"nc-icon nc-simple-remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add Produt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Product Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.name,\n                placeholder: \"Add Product Name\",\n                type: \"text\",\n                onChange: handleAddingNameChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Product visibility  \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: addingNewProduct.visibility,\n                onChange: toggleShowAdding\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"slider round\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: addingNewProduct.apps ? addingNewProduct.apps.map((app, i) => /*#__PURE__*/_jsxDEV(Row, {\n            style: {\n              display: showApp ? \"block\" : \"none\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Product Apps\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  defaultValue: addingNewProduct.apps.name,\n                  placeholder: \"Add Product Apps\",\n                  type: \"text\",\n                  onChange: handleAddingAppsChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"App URL\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  defaultValue: addingNewProduct.url,\n                  placeholder: \"Add Product Page url\",\n                  type: \"text\",\n                  onChange: handleAddingAppUrlChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 80\n          }, this)) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => setShowApp(true),\n            children: \"Add App\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Unpurchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.unpurchasedUrl,\n                placeholder: \"Add Product Page url\",\n                type: \"text\",\n                onChange: handleAddingunpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"purchased URL\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                defaultValue: addingNewProduct.purchasedUrl,\n                placeholder: \"Add Product Page url\",\n                type: \"text\",\n                onChange: handleAddingpurchasedUrlChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 435,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-fill pull-right\",\n              type: \"submit\",\n              variant: \"info\",\n              onClick: () => {\n                handleAddNewProduct(addingNewProduct, setProducts, closeAddPop);\n              },\n              children: \"Update Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(addProduct, \"OwVeJe2VzqWYaZpzv/R9684K5Mk=\");\n\nexport default addProduct;","map":{"version":3,"sources":["E:/Folder/React/projects/my_freelance_work/M.Ramdan Work/light-bootstrap-dashboard-react/src/views/addProduct.js"],"names":["React","useEffect","useState","db","Card","Table","Container","Row","Col","Form","OverlayTrigger","Tooltip","Button","handleDeleteProduct","handleEditProduct","handleAddNewProduct","addProduct","products","setProducts","showEditPop","setShowEditPop","showAddPop","setShowAddPop","editableProduct","setEditableProduct","addingNewProduct","setAddingNewProduct","showApp","setShowApp","collection","get","then","snapshot","docs","closeEditPop","closeAddPop","showTheAddPop","name","visibility","unpurchasedUrl","purchasedUrl","apps","resetEditableProduct","pid","i","newEditableProduct","id","data","index","hanldeEditableNameChange","e","target","value","hanldeEditableAppsChange","oldApp","console","log","newApp","split","tempArr","map","app","push","url","handleEditingAppUrlChange","appIndex","newEditingNewProduct","hanldeEditableunpurchasedUrlChange","hanldeEditablepurchasedUrlChange","toggleShowEditing","checked","handleAddingNameChange","newAddingProduct","handleAddingAppsChange","handleAddingunpurchasedUrlChange","handleAddingpurchasedUrlChange","handleAddingAppUrlChange","newAddingNewProduct","toggleShowAdding","editApps","editableProductApps","productsList","product","length","forEach","join","display"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA6C,OAA7C;AACA,SAAQC,EAAR,QAAiB,aAAjB;AACA,SACIC,IADJ,EAEIC,KAFJ,EAGIC,SAHJ,EAIIC,GAJJ,EAKIC,GALJ,EAMIC,IANJ,EAOIC,cAPJ,EAQIC,OARJ,EASIC,MATJ,QAWS,iBAXT;AAaE,SAAQC,mBAAR,EAA4BC,iBAA5B,EAA+CC,mBAA/C,QAAyE,mBAAzE,C,CAIF;;;;;AAEA,MAAMC,UAAU,GAAG,MAAI;AAAA;;AACnB,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAyBhB,QAAQ,CAAC,EAAD,CAAvC;AACA,QAAM,CAACiB,WAAD,EAAaC,cAAb,IAA+BlB,QAAQ,CAAC,KAAD,CAA7C;AACA,QAAM,CAACmB,UAAD,EAAYC,aAAZ,IAA6BpB,QAAQ,CAAC,KAAD,CAA3C;AACA,QAAM,CAACqB,eAAD,EAAiBC,kBAAjB,IAAuCtB,QAAQ,CAAC,EAAD,CAArD;AACA,QAAM,CAACuB,gBAAD,EAAkBC,mBAAlB,IAAyCxB,QAAQ,CAAC,EAAD,CAAvD;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,KAAD,CAAtC;AAGAD,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,EAAE,CAAC0B,UAAH,CAAc,UAAd,EAA0BC,GAA1B,GACKC,IADL,CACUC,QAAQ,IAAE;AAChB;AACAd,MAAAA,WAAW,CAAC,CAAC,GAAGc,QAAQ,CAACC,IAAb,CAAD,CAAX;AACH,KAJD;AAKH,GANQ,EAMN,EANM,CAAT;;AAQA,QAAMC,YAAY,GAAG,MAAI;AACrBd,IAAAA,cAAc,CAAC,KAAD,CAAd;AACH,GAFD;;AAIA,QAAMe,WAAW,GAAG,MAAI;AACpBb,IAAAA,aAAa,CAAC,KAAD,CAAb;AACH,GAFD;;AAIA,QAAMc,aAAa,GAAG,MAAI;AACtBd,IAAAA,aAAa,CAAC,IAAD,CAAb;AACA,QAAIG,gBAAgB,GAAG,EAAvB;AACAA,IAAAA,gBAAgB,CAACY,IAAjB,GAAyB,EAAzB;AACAZ,IAAAA,gBAAgB,CAACa,UAAjB,GAA+B,KAA/B;AACAb,IAAAA,gBAAgB,CAACc,cAAjB,GAAmC,EAAnC;AACAd,IAAAA,gBAAgB,CAACe,YAAjB,GAAiC,EAAjC;AACAf,IAAAA,gBAAgB,CAACgB,IAAjB,GAAyB,EAAzB;AACAf,IAAAA,mBAAmB,CAAC,EAAC,GAAGD;AAAJ,KAAD,CAAnB;AACH,GATD;;AAWA,QAAMiB,oBAAoB,GAAG,CAACC,GAAD,EAAKC,CAAL,KAAS;AAClC,QAAIC,kBAAkB,GAAG,EAAzB;AACAA,IAAAA,kBAAkB,CAACC,EAAnB,GAAwBH,GAAxB;AACAE,IAAAA,kBAAkB,CAACR,IAAnB,GAA2BpB,QAAQ,CAAC2B,CAAD,CAAR,CAAYG,IAAZ,GAAmBV,IAA9C;AACAQ,IAAAA,kBAAkB,CAACJ,IAAnB,GAA2BxB,QAAQ,CAAC2B,CAAD,CAAR,CAAYG,IAAZ,GAAmBN,IAA9C;AACAI,IAAAA,kBAAkB,CAACP,UAAnB,GAAiCrB,QAAQ,CAAC2B,CAAD,CAAR,CAAYG,IAAZ,GAAmBT,UAApD;AACAO,IAAAA,kBAAkB,CAACN,cAAnB,GAAqCtB,QAAQ,CAAC2B,CAAD,CAAR,CAAYG,IAAZ,GAAmBR,cAAxD;AACAM,IAAAA,kBAAkB,CAACL,YAAnB,GAAmCvB,QAAQ,CAAC2B,CAAD,CAAR,CAAYG,IAAZ,GAAmBP,YAAtD;AACAK,IAAAA,kBAAkB,CAACG,KAAnB,GAA2BJ,CAA3B;AACApB,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACAzB,IAAAA,cAAc,CAAC,IAAD,CAAd;AACH,GAXD;;AAaA,QAAM6B,wBAAwB,GAAIC,CAAD,IAAK;AAClC,QAAIL,kBAAkB,GAAGtB,eAAzB;AACAsB,IAAAA,kBAAkB,CAACR,IAAnB,GAA0Ba,CAAC,CAACC,MAAF,CAASC,KAAnC;AACA5B,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACH,GAJD;;AAMA,QAAMQ,wBAAwB,GAAIH,CAAD,IAAM;AACrC,QAAIL,kBAAkB,GAAGtB,eAAzB;AACA,QAAI+B,MAAM,GAAGT,kBAAkB,CAACJ,IAAhC;AACAc,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,MAAtB;AACA,QAAIG,MAAM,GAAGP,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeM,KAAf,CAAqB,GAArB,CAAb;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBC,MAAtB;AACA,QAAIE,OAAO,GAAE,EAAb;AACAF,IAAAA,MAAM,CAACG,GAAP,CAAW,CAACC,GAAD,EAAKjB,CAAL,KAAW;AACpB,UAAIU,MAAM,CAACV,CAAD,CAAN,CAAUP,IAAV,IAAkBwB,GAAtB,EAA0B;AACxBF,QAAAA,OAAO,CAACG,IAAR,CAAa;AAACzB,UAAAA,IAAI,EAAEwB,GAAP;AAAYE,UAAAA,GAAG,EAAET,MAAM,CAACV,CAAD,CAAN,CAAUmB;AAA3B,SAAb;AACD;AACF,KAJD;AAKAR,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBG,OAAvB;AACAd,IAAAA,kBAAkB,CAACJ,IAAnB,GAA0BkB,OAA1B;AACAnC,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACD,GAfD;;AAiBA,QAAMmB,yBAAyB,GAAG,CAACd,CAAD,EAAGe,QAAH,KAAgB;AAChD,QAAIpB,kBAAkB,GAAGtB,eAAzB;AACA,QAAI2C,oBAAoB,GAAG3C,eAA3B;AACA,QAAIkB,IAAI,GAAGI,kBAAkB,CAACJ,IAA9B;AACAA,IAAAA,IAAI,CAACwB,QAAD,CAAJ,CAAeF,GAAf,GAAoBb,CAAC,CAACC,MAAF,CAASC,KAA7B;AACAc,IAAAA,oBAAoB,CAACzB,IAArB,GAA4BA,IAA5B;AACAf,IAAAA,mBAAmB,CAAC,EAAC,GAAGwC;AAAJ,KAAD,CAAnB;AACD,GAPD;;AASA,QAAMC,kCAAkC,GAAIjB,CAAD,IAAO;AAChD,QAAIL,kBAAkB,GAAGtB,eAAzB;AACEsB,IAAAA,kBAAkB,CAACN,cAAnB,GAAoCW,CAAC,CAACC,MAAF,CAASC,KAA7C;AACA5B,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACH,GAJD;;AAKA,QAAMuB,gCAAgC,GAAIlB,CAAD,IAAO;AAC9C,QAAIL,kBAAkB,GAAGtB,eAAzB;AACEsB,IAAAA,kBAAkB,CAACL,YAAnB,GAAkCU,CAAC,CAACC,MAAF,CAASC,KAA3C;AACA5B,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACH,GAJD;;AAMA,QAAMwB,iBAAiB,GAAInB,CAAD,IAAO;AAC/B,QAAIL,kBAAkB,GAAGtB,eAAzB;AACAsB,IAAAA,kBAAkB,CAACP,UAAnB,GAAgCY,CAAC,CAACC,MAAF,CAASmB,OAAzC;AACA9C,IAAAA,kBAAkB,CAAC,EAAC,GAAGqB;AAAJ,KAAD,CAAlB;AACD,GAJD;;AAMA,QAAM0B,sBAAsB,GAAIrB,CAAD,IAAK;AAClC,QAAIsB,gBAAgB,GAAG/C,gBAAvB;AACA+C,IAAAA,gBAAgB,CAACnC,IAAjB,GAAwBa,CAAC,CAACC,MAAF,CAASC,KAAjC;AACA1B,IAAAA,mBAAmB,CAAC,EAAC,GAAG8C;AAAJ,KAAD,CAAnB;AACD,GAJD;;AAMA,QAAMC,sBAAsB,GAAIvB,CAAD,IAAM;AACnC,QAAIsB,gBAAgB,GAAG/C,gBAAvB;AACA+C,IAAAA,gBAAgB,CAAC/B,IAAjB,GAAwB;AACEJ,MAAAA,IAAI,EAAIa,CAAC,CAACC,MAAF,CAASC,KADnB;AAEEW,MAAAA,GAAG,EAAG;AAFR,KAAxB;AAIArC,IAAAA,mBAAmB,CAAC,EAAC,GAAG8C;AAAJ,KAAD,CAAnB;AACD,GAPD;;AASA,QAAME,gCAAgC,GAAIxB,CAAD,IAAM;AAC7C,QAAIsB,gBAAgB,GAAG/C,gBAAvB;AACA+C,IAAAA,gBAAgB,CAACjC,cAAjB,GAAkCW,CAAC,CAACC,MAAF,CAASC,KAA3C;AACA1B,IAAAA,mBAAmB,CAAC,EAAC,GAAG8C;AAAJ,KAAD,CAAnB;AACD,GAJD;;AAMA,QAAMG,8BAA8B,GAAIzB,CAAD,IAAM;AAC3C,QAAIsB,gBAAgB,GAAG/C,gBAAvB;AACA+C,IAAAA,gBAAgB,CAAChC,YAAjB,GAAgCU,CAAC,CAACC,MAAF,CAASC,KAAzC;AACA1B,IAAAA,mBAAmB,CAAC,EAAC,GAAG8C;AAAJ,KAAD,CAAnB;AACD,GAJD;;AAMA,QAAMI,wBAAwB,GAAG,CAAC1B,CAAD,EAAGe,QAAH,KAAgB;AAC/C,QAAIO,gBAAgB,GAAG/C,gBAAvB;AACA,QAAIoD,mBAAmB,GAAGpD,gBAA1B;AACA,QAAIgB,IAAI,GAAG+B,gBAAgB,CAAC/B,IAA5B;AACAA,IAAAA,IAAI,CAACwB,QAAD,CAAJ,CAAeF,GAAf,GAAoBb,CAAC,CAACC,MAAF,CAASC,KAA7B;AACAyB,IAAAA,mBAAmB,CAACpC,IAApB,GAA2BA,IAA3B;AACAf,IAAAA,mBAAmB,CAAC,EAAC,GAAGmD;AAAJ,KAAD,CAAnB;AACD,GAPD,CA7HmB,CAsInB;;;AACA,QAAMC,gBAAgB,GAAI5B,CAAD,IAAO;AAC9B,QAAIsB,gBAAgB,GAAG/C,gBAAvB;AACA+C,IAAAA,gBAAgB,CAAClC,UAAjB,GAA8BY,CAAC,CAACC,MAAF,CAASmB,OAAvC;AACA5C,IAAAA,mBAAmB,CAAC,EAAC,GAAG8C;AAAJ,KAAD,CAAnB;AACD,GAJD;;AAMA,MAAIO,QAAQ,GAAG,EAAf;AACA,MAAIC,mBAAmB,GAAG,IAA1B;AAEA,MAAIC,YAAY,GAAG,IAAnB;AACAA,EAAAA,YAAY,GAAGhE,QAAQ,CAAC2C,GAAT,CAAa,CAACsB,OAAD,EAAStC,CAAT,KAAa;AACrC,QAAG,CAAC3B,QAAQ,CAACkE,MAAb,EAAoB;AAClB;AACD;;AAED,wBAAO;AAAA,8BACP;AAAA,kBAAKD,OAAO,CAACnC,IAAR,GAAeV;AAApB;AAAA;AAAA;AAAA;AAAA,cADO,eAEP;AAAA,kBAAK6C,OAAO,CAACnC,IAAR,GAAeV;AAApB;AAAA;AAAA;AAAA;AAAA,cAFO,eAGP;AAAA,kBAAK6C,OAAO,CAACnC,IAAR,GAAeT,UAAf,GAA4B,KAA5B,GAAoC;AAAzC;AAAA;AAAA;AAAA;AAAA,cAHO,eAIP;AAAA,kBAAK4C,OAAO,CAACnC,IAAR,GAAeP;AAApB;AAAA;AAAA;AAAA;AAAA,cAJO,eAKP;AAAA,kBAAK0C,OAAO,CAACnC,IAAR,GAAeR;AAApB;AAAA;AAAA;AAAA;AAAA,cALO,eAMP;AAAA;AAAA;AAAA;AAAA,cANO,eAOP;AAAA,gCAEA,QAAC,cAAD;AACM,UAAA,OAAO,eACL,QAAC,OAAD;AAAS,YAAA,EAAE,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFR;AAAA,iCAOM,QAAC,MAAD;AACE,YAAA,SAAS,EAAC,yBADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,OAAO,EAAC,MAHV;AAIE,YAAA,OAAO,EAAI,MAAI;AAACG,cAAAA,oBAAoB,CAACwC,OAAO,CAACpC,EAAT,EAAYF,CAAZ,CAApB;AAAmC,aAJrD;AAAA,mCAME;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AAPN;AAAA;AAAA;AAAA;AAAA,gBAFA,eAkBA,QAAC,cAAD;AACE,UAAA,OAAO,eACL,QAAC,OAAD;AAAS,YAAA,EAAE,EAAC,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA,iCAKE,QAAC,MAAD;AACE,YAAA,SAAS,EAAC,yBADZ;AAEE,YAAA,IAAI,EAAC,QAFP;AAGE,YAAA,OAAO,EAAC,QAHV;AAIE,YAAA,OAAO,EAAI,MAAI;AAAC/B,cAAAA,mBAAmB,CAACqE,OAAD,EAAShE,WAAT,CAAnB;AAAyC,aAJ3D;AAAA,mCAME;AAAG,cAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AANF;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,gBAlBA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPO;AAAA,OAASgE,OAAO,CAACpC,EAAjB;AAAA;AAAA;AAAA;AAAA,YAAP;AAyCD,GA9CY,CAAf;AA+CA,sBACI;AAAA,4BACF,QAAC,SAAD;AAAW,MAAA,KAAK,MAAhB;AAAA,6BACE,QAAC,GAAD;AAAA,+BACE,QAAC,GAAD;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,SAAS,EAAC,YAAhB;AAAA,oCACE,QAAC,IAAD,CAAM,MAAN;AAAA,sCACE,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,EAAE,EAAC,IAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAG,gBAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE,QAAC,IAAD,CAAM,IAAN;AAAA,qCAEA,QAAC,KAAD;AAAO,gBAAA,SAAS,EAAC,2BAAjB;AAAA,wCACI;AAAA,yCACE;AAAA,4CACE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAFF,eAGE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAHF,eAIE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF,eAKE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BALF,eAMA;AAAA;AAAA;AAAA;AAAA,4BANA,eAQE;AAAI,sBAAA,SAAS,EAAC,UAAd;AAAA,6CACE;AAAQ,wBAAA,OAAO,EAAEV,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADJ,eAeI;AAAA,4BACC6C;AADD;AAAA;AAAA;AAAA;AAAA,wBAfJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA,oBALF,eA2BE,QAAC,IAAD,CAAM,MAAN;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAK,gBAAA,SAAS,EAAC,OAAf;AAAA,wCACE;AAAG,kBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,wBADF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADE,eA0CF;AAAK,MAAA,SAAS,EAAE,eAAe9D,WAAW,GAAG,QAAH,GAAc,EAAxC,CAAhB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,mBAEEI,eAAe,CAACkB,IAAhB,GAAuBuC,mBAAmB,GAAGzD,eAAe,CAACkB,IAAhB,CAAqB2C,OAArB,CAA6BvB,GAAG,IAAIkB,QAAQ,CAACjB,IAAT,CAAcD,GAAG,CAACxB,IAAlB,CAApC,CAA7C,GAA4G,EAF9G,eAIA;AAAK,UAAA,SAAS,EAAC,6BAAf;AAA6C,UAAA,OAAO,EAAEH,YAAtD;AAAA,iCACE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJA,eAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPA,eAQE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAEX,eAAe,CAACc,IADlC;AAEI,gBAAA,WAAW,EAAC,kBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAEY;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBARF,eAqBE,QAAC,GAAD;AAAA,iCACA,QAAC,GAAD;AAAA,mCACI,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EACgCM,OAAO,CAACC,GAAR,CAAYuB,QAAQ,CAACM,IAAT,EAAZ,CADhC,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAEN,QAAQ,CAACM,IAAT,EADlB;AAEI,gBAAA,WAAW,EAAC,qCAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAEhC;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBArBF,eAkCE,QAAC,GAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AAAO,cAAA,SAAS,EAAC,QAAjB;AAAA,sCACA;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAuB,gBAAA,OAAO,EAAE9B,eAAe,CAACe,UAAhD;AAA4D,gBAAA,QAAQ,EAAE+B;AAAtE;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AAAM,gBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlCF,EA2CG9C,eAAe,CAACkB,IAAhB,GAAuBlB,eAAe,CAACkB,IAAhB,CAAqBmB,GAArB,CAAyB,CAACC,GAAD,EAAKjB,CAAL,KAAW;AAC1D,8BACE,QAAC,GAAD;AAAA,mCAAa,QAAC,GAAD;AAAA,qCACX,QAAC,IAAD,CAAM,KAAN;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,kBAAA,YAAY,EAAEiB,GAAG,CAACE,GADpB;AAEE,kBAAA,WAAW,EAAC,sBAFd;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,QAAQ,EAAEb,CAAC,IAAIc,yBAAyB,CAACd,CAAD,EAAIN,CAAJ;AAJ1C;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADW;AAAA;AAAA;AAAA;AAAA;AAAb,aAAUA,CAAV;AAAA;AAAA;AAAA;AAAA,kBADF;AAcD,SAfuB,CAAvB,GAeI,IA1DP,eA2DE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAErB,eAAe,CAACgB,cADlC;AAEI,gBAAA,WAAW,EAAC,iBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAE4B;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBA3DF,eAwEE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAE5C,eAAe,CAACiB,YADlC;AAEI,gBAAA,WAAW,EAAC,iBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAE4B;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAxEF,eAqFE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,MAAD;AACI,cAAA,SAAS,EAAC,qBADd;AAEI,cAAA,IAAI,EAAC,QAFT;AAGI,cAAA,OAAO,EAAC,MAHZ;AAII,cAAA,OAAO,EAAE,MAAI;AAACtD,gBAAAA,iBAAiB,CAACS,eAAD,EAAiBL,WAAjB,EAA6BgB,YAA7B,CAAjB;AAA4D,eAJ9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBArFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA1CE,eA+IF;AAAK,MAAA,SAAS,EAAE,eAAeb,UAAU,GAAG,QAAH,GAAc,EAAvC,CAAhB;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,6BAAf;AAA6C,UAAA,OAAO,EAAEc,WAAtD;AAAA,iCACE;AAAG,YAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAEV,gBAAgB,CAACY,IADnC;AAEI,gBAAA,WAAW,EAAC,kBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAEkC;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBALF,eAkBE,QAAC,GAAD;AAAA,iCACE,QAAC,GAAD;AAAA,oCACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,eAEA;AAAO,cAAA,SAAS,EAAC,QAAjB;AAAA,sCACA;AAAO,gBAAA,IAAI,EAAC,UAAZ;AAAuB,gBAAA,OAAO,EAAE9C,gBAAgB,CAACa,UAAjD;AAA6D,gBAAA,QAAQ,EAAEwC;AAAvE;AAAA;AAAA;AAAA;AAAA,sBADA,eAEA;AAAM,gBAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,sBAFA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAlBF,eA2BE;AAAA,oBACGrD,gBAAgB,CAACgB,IAAjB,GAA0BhB,gBAAgB,CAACgB,IAAjB,CAAsBmB,GAAtB,CAA0B,CAACC,GAAD,EAAKjB,CAAL,kBAAY,QAAC,GAAD;AAAa,YAAA,KAAK,EAAE;AAAC0C,cAAAA,OAAO,EAAE3D,OAAO,GAAG,OAAH,GAAa;AAA9B,aAApB;AAAA,oCACjE,QAAC,GAAD;AAAA,qCACA,QAAC,IAAD,CAAM,KAAN;AAAA,wCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACE,kBAAA,YAAY,EAAEF,gBAAgB,CAACgB,IAAjB,CAAsBJ,IADtC;AAEE,kBAAA,WAAW,EAAC,kBAFd;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,QAAQ,EAAEoC;AAJZ;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBADiE,eAY/D,QAAC,GAAD;AAAA,qCACA,QAAC,IAAD,CAAM,KAAN;AAAA,wCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,kBAAA,YAAY,EAAEhD,gBAAgB,CAACsC,GADjC;AAEE,kBAAA,WAAW,EAAC,sBAFd;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,QAAQ,EAAEa;AAJZ;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,oBAZ+D,eAwBjE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAxBiE,eAyBjE,QAAC,MAAD;AAAQ,cAAA,OAAO,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAzBiE;AAAA,aAAUhC,CAAV;AAAA;AAAA;AAAA;AAAA,kBAAtC,CAA1B,gBA2BE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,SAAhB;AAA0B,YAAA,OAAO,EAAE,MAAMhB,UAAU,CAAC,IAAD,CAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA5BL;AAAA;AAAA;AAAA;AAAA,gBA3BF,eA2DE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAEH,gBAAgB,CAACc,cADnC;AAEI,gBAAA,WAAW,EAAC,sBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAEmC;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBA3DF,eAwEE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,IAAD,CAAM,KAAN;AAAA,sCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI,QAAC,IAAD,CAAM,OAAN;AACI,gBAAA,YAAY,EAAEjD,gBAAgB,CAACe,YADnC;AAEI,gBAAA,WAAW,EAAC,sBAFhB;AAGI,gBAAA,IAAI,EAAC,MAHT;AAII,gBAAA,QAAQ,EAAEmC;AAJd;AAAA;AAAA;AAAA;AAAA,sBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAxEF,eAqFE,QAAC,GAAD;AAAA,iCACI,QAAC,GAAD;AAAA,mCACA,QAAC,MAAD;AACI,cAAA,SAAS,EAAC,qBADd;AAEI,cAAA,IAAI,EAAC,QAFT;AAGI,cAAA,OAAO,EAAC,MAHZ;AAII,cAAA,OAAO,EAAE,MAAI;AAAC5D,gBAAAA,mBAAmB,CAACU,gBAAD,EAAkBP,WAAlB,EAA8BiB,WAA9B,CAAnB;AAA8D,eAJhF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBArFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YA/IE;AAAA,kBADJ;AAsPH,CAtbD;;GAAMnB,U;;AAwbN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState }   from \"react\";\nimport {db} from '../firebase';\nimport {\n    Card,\n    Table,\n    Container,\n    Row,\n    Col,\n    Form,\n    OverlayTrigger,\n    Tooltip,\n    Button \n\n  } from \"react-bootstrap\";\n\n  import {handleDeleteProduct,handleEditProduct, handleAddNewProduct} from './ProductsActions';\n\n\n\n// react-bootstrap components\n\nconst addProduct = ()=>{\n    const [products,setProducts] = useState([]);\n    const [showEditPop,setShowEditPop] = useState(false);\n    const [showAddPop,setShowAddPop] = useState(false);\n    const [editableProduct,setEditableProduct] = useState({});\n    const [addingNewProduct,setAddingNewProduct] = useState({});\n    const [showApp, setShowApp] = useState(false)\n\n    \n    useEffect(() => {\n        db.collection(\"products\").get()\n            .then(snapshot=>{\n            // console.log(\"snapshot is \",snapshot.docs[0].data().apps);\n            setProducts([...snapshot.docs]);\n        })\n    }, [])\n\n    const closeEditPop = ()=>{\n        setShowEditPop(false);\n    }\n\n    const closeAddPop = ()=>{\n        setShowAddPop(false);\n    }\n\n    const showTheAddPop = ()=>{\n        setShowAddPop(true);\n        let addingNewProduct = {};\n        addingNewProduct.name  = \"\";\n        addingNewProduct.visibility  = false;\n        addingNewProduct.unpurchasedUrl  = \"\";\n        addingNewProduct.purchasedUrl  = \"\";\n        addingNewProduct.apps  = [];\n        setAddingNewProduct({...addingNewProduct});\n    }\n\n    const resetEditableProduct = (pid,i)=>{\n        let newEditableProduct = {};\n        newEditableProduct.id = pid;\n        newEditableProduct.name  = products[i].data().name;\n        newEditableProduct.apps  = products[i].data().apps;\n        newEditableProduct.visibility  = products[i].data().visibility;\n        newEditableProduct.unpurchasedUrl  = products[i].data().unpurchasedUrl;\n        newEditableProduct.purchasedUrl  = products[i].data().purchasedUrl;\n        newEditableProduct.index = i;\n        setEditableProduct({...newEditableProduct});\n        setShowEditPop(true)\n    }\n\n    const hanldeEditableNameChange = (e)=>{\n        let newEditableProduct = editableProduct\n        newEditableProduct.name = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n\n    const hanldeEditableAppsChange = (e) =>{\n      let newEditableProduct = editableProduct;\n      let oldApp = newEditableProduct.apps;\n      console.log(\"oldApp\", oldApp);\n      let newApp = e.target.value.split(\",\");\n      console.log(\"newApp\", newApp);\n      let tempArr =[]\n      newApp.map((app,i) => {\n        if (oldApp[i].name != app){\n          tempArr.push({name: app, url: oldApp[i].url})\n        }\n      })\n      console.log(\"tempArr\", tempArr)\n      newEditableProduct.apps = tempArr\n      setEditableProduct({...newEditableProduct})\n    }\n\n    const handleEditingAppUrlChange = (e,appIndex) => {\n      let newEditableProduct = editableProduct;\n      let newEditingNewProduct = editableProduct;\n      let apps = newEditableProduct.apps;\n      apps[appIndex].url =e.target.value;\n      newEditingNewProduct.apps = apps\n      setAddingNewProduct({...newEditingNewProduct});\n    }\n\n    const hanldeEditableunpurchasedUrlChange = (e) => {\n      let newEditableProduct = editableProduct;\n        newEditableProduct.unpurchasedUrl = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n    const hanldeEditablepurchasedUrlChange = (e) => {\n      let newEditableProduct = editableProduct;\n        newEditableProduct.purchasedUrl = e.target.value\n        setEditableProduct({...newEditableProduct})\n    }\n\n    const toggleShowEditing = (e) => {\n      let newEditableProduct = editableProduct;\n      newEditableProduct.visibility = e.target.checked;\n      setEditableProduct({...newEditableProduct})\n    }\n\n    const handleAddingNameChange = (e)=>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.name = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingAppsChange = (e) =>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.apps = {\n                                name :  e.target.value,\n                                url : ''\n                              }\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingunpurchasedUrlChange = (e) =>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.unpurchasedUrl = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingpurchasedUrlChange = (e) =>{\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.purchasedUrl = e.target.value\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    const handleAddingAppUrlChange = (e,appIndex) => {\n      let newAddingProduct = addingNewProduct;\n      let newAddingNewProduct = addingNewProduct;\n      let apps = newAddingProduct.apps;\n      apps[appIndex].url =e.target.value;\n      newAddingNewProduct.apps = apps\n      setAddingNewProduct({...newAddingNewProduct});\n    }\n\n    // check app box\n    const toggleShowAdding = (e) => {\n      let newAddingProduct = addingNewProduct;\n      newAddingProduct.visibility = e.target.checked;\n      setAddingNewProduct({...newAddingProduct})\n    }\n\n    let editApps = [];\n    let editableProductApps = null\n    \n    let productsList = null; \n    productsList = products.map((product,i)=>{\n        if(!products.length){\n          return;\n        }    \n        \n        return <tr key={product.id}>\n        <td>{product.data().name}</td>\n        <td>{product.data().name}</td>\n        <td>{product.data().visibility ? \"yes\" : \"No\"}</td>\n        <td>{product.data().purchasedUrl}</td>\n        <td>{product.data().unpurchasedUrl}</td>\n        <td></td>\n        <td>\n            \n        <OverlayTrigger\n              overlay={\n                <Tooltip id=\"tooltip-422471719\">\n                  Edit Task..\n                </Tooltip>\n              }\n            >\n              <Button\n                className=\"btn-simple btn-link p-1\"\n                type=\"button\"\n                variant=\"info\"\n                onClick = {()=>{resetEditableProduct(product.id,i)}}\n              >\n                <i className=\"fas fa-edit\"></i>\n              </Button>\n            </OverlayTrigger>\n        <OverlayTrigger\n          overlay={\n            <Tooltip id=\"tooltip-829164576\">Remove..</Tooltip>\n          }\n        >\n          <Button\n            className=\"btn-simple btn-link p-1\"\n            type=\"button\"\n            variant=\"danger\"\n            onClick = {()=>{handleDeleteProduct(product,setProducts)}}\n          >\n            <i className=\"fas fa-times\"></i>\n          </Button>\n        </OverlayTrigger>\n        </td>\n      </tr>\n      })\n    return (\n        <>\n      <Container fluid>\n        <Row> \n          <Col>\n            <Card className=\"card-tasks\">\n              <Card.Header>\n                <Card.Title as=\"h4\">Products</Card.Title>\n                <p className=\"card-category\">Add , Delete, Manage Products</p>\n              </Card.Header>\n              <Card.Body>\n\n              <Table className=\"table-hover table-striped\">\n                  <thead>\n                    <tr>\n                      <th className=\"border-0\">Product Name</th>\n                      <th className=\"border-0\">Product Apps</th>\n                      <th className=\"border-0\">Visblility</th>\n                      <th className=\"border-0\">Un purchased Link</th>\n                      <th className=\"border-0\"> purchased Link</th>\n                    <td></td>\n\n                      <th className=\"border-0\">\n                        <button onClick={showTheAddPop}>Add Product</button>\n                      </th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                  {productsList}\n                  </tbody>\n                </Table>\n              </Card.Body>\n              <Card.Footer>\n                <hr></hr>\n                <div className=\"stats\">\n                  <i className=\"now-ui-icons loader_refresh spin\"></i>\n                  Updated 3 minutes ago\n                </div>\n              </Card.Footer>\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n      <div className={\"thePopUp \" + (showEditPop ? \"active\" : \"\")} >\n          <div className=\"thePopUpBody\">\n          {\n            editableProduct.apps ? editableProductApps = editableProduct.apps.forEach(app => editApps.push(app.name)) : ''\n          }\n          <div className=\"font-icon-detail closePopUp\" onClick={closeEditPop}>\n            <i className=\"nc-icon nc-simple-remove\"></i>\n          </div>\n          <h1>Edit Produt</h1>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Product Name</label>\n                    <Form.Control\n                        defaultValue={editableProduct.name}\n                        placeholder=\"Add Product Name\"\n                        type=\"text\"\n                        onChange={hanldeEditableNameChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n            <Col>\n                <Form.Group>\n                    <label>Product Apps</label>{console.log(editApps.join())}\n                    <Form.Control\n                        defaultValue={editApps.join()}\n                        placeholder=\"Add Product Apps Separated by Comma\"\n                        type=\"text\"\n                        onChange={hanldeEditableAppsChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n              <Col>\n              <label>Product visibility  </label>\n              <label className=\"switch\">\n              <input type=\"checkbox\" checked={editableProduct.visibility} onChange={toggleShowEditing} />\n              <span className=\"slider round\"></span>\n            </label>\n            </Col>\n            </Row>\n            {editableProduct.apps ? editableProduct.apps.map((app,i) => {\n              return (\n                <Row key={i}><Col>\n                  <Form.Group>\n                    <label>App URL</label>\n                    <Form.Control\n                      defaultValue={app.url}\n                      placeholder=\"Add Product Page url\"\n                      type=\"text\"\n                      onChange={e => handleEditingAppUrlChange(e, i)}\n                    > \n                    </Form.Control>\n                  </Form.Group>\n                </Col></Row>\n              )\n            }) : null}\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Unpurchased URL</label>\n                    <Form.Control\n                        defaultValue={editableProduct.unpurchasedUrl}\n                        placeholder=\"Add Product url\"\n                        type=\"text\"\n                        onChange={hanldeEditableunpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>purchased URL</label>\n                    <Form.Control\n                        defaultValue={editableProduct.purchasedUrl}\n                        placeholder=\"Add Product url\"\n                        type=\"text\"\n                        onChange={hanldeEditablepurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Button\n                    className=\"btn-fill pull-right\"\n                    type=\"submit\"\n                    variant=\"info\"\n                    onClick={()=>{handleEditProduct(editableProduct,setProducts,closeEditPop)}}\n                  >\n                    Update Product\n                  </Button>\n                </Col>\n            </Row>\n            </div>\n      </div>\n\n      <div className={\"thePopUp \" + (showAddPop ? \"active\" : \"\")} >\n          <div className=\"thePopUpBody\">\n            <div className=\"font-icon-detail closePopUp\" onClick={closeAddPop}>\n              <i className=\"nc-icon nc-simple-remove\"></i>\n            </div>\n            <h1>Add Produt</h1>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Product Name</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.name }\n                        placeholder=\"Add Product Name\"\n                        type=\"text\"\n                        onChange={handleAddingNameChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n              <Col>\n              <label>Product visibility  </label>\n              <label className=\"switch\">\n              <input type=\"checkbox\" checked={addingNewProduct.visibility} onChange={toggleShowAdding} />\n              <span className=\"slider round\"></span>\n            </label>\n            </Col>\n            </Row>\n            <div>\n              {addingNewProduct.apps ? ( addingNewProduct.apps.map((app,i) => (<Row key={i} style={{display: showApp ? \"block\" : \"none\"}}>\n              <Col>\n              <Form.Group>\n                  <label>Product Apps</label>\n                  <Form.Control\n                    defaultValue={addingNewProduct.apps.name}\n                    placeholder=\"Add Product Apps\"\n                    type=\"text\"\n                    onChange={handleAddingAppsChange}\n                  ></Form.Control>\n              </Form.Group>\n              </Col>\n                <Col>\n                <Form.Group>\n                  <label>App URL</label>\n                  <Form.Control\n                    defaultValue={addingNewProduct.url}\n                    placeholder=\"Add Product Page url\"\n                    type=\"text\"\n                    onChange={handleAddingAppUrlChange}\n                  > \n                  </Form.Control>\n                </Form.Group>\n              </Col>\n              <Button variant=\"success\">+</Button>\n              <Button variant=\"danger\">-</Button>\n            </Row>))\n            ) : (<Button variant=\"success\" onClick={() => setShowApp(true)}>Add App</Button>)}\n            \n            </div>\n            \n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>Unpurchased URL</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.unpurchasedUrl}\n                        placeholder=\"Add Product Page url\"\n                        type=\"text\"\n                        onChange={handleAddingunpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Form.Group>\n                    <label>purchased URL</label>\n                    <Form.Control\n                        defaultValue={addingNewProduct.purchasedUrl}\n                        placeholder=\"Add Product Page url\"\n                        type=\"text\"\n                        onChange={handleAddingpurchasedUrlChange}\n                    ></Form.Control>\n                </Form.Group>\n                </Col>\n            </Row>\n            <Row>\n                <Col>\n                <Button\n                    className=\"btn-fill pull-right\"\n                    type=\"submit\"\n                    variant=\"info\"\n                    onClick={()=>{handleAddNewProduct(addingNewProduct,setProducts,closeAddPop)}}\n                  >\n                    Update Product\n                  </Button>\n                </Col>\n            </Row>\n            </div>\n      </div>\n      </>\n    )\n}\n\nexport default addProduct;\n"]},"metadata":{},"sourceType":"module"}